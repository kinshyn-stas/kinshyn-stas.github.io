<!--
##==================================================================##
## @author    : OCdevWizard                                         ##
## @contact   : ocdevwizard@gmail.com                               ##
## @support   : http://help.ocdevwizard.com                         ##
## @license   : http://license.ocdevwizard.com/Licensing_Policy.pdf ##
## @copyright : (c) OCdevWizard. Smart Blog Pro Plus, 2019          ##
##==================================================================##
-->
<div class="modal-content" id="modal-post-constructor-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button>
    <h4 class="modal-title" id="myModalLabel">{{ text_modal_heading }}</h4>
  </div>
  <div class="modal-body">
    <div id="content" class="row" style="padding-bottom: 0;">
      <div class="panel-body" style="padding-top: 0;padding-bottom: 0;">
        <ul class="nav nav-tabs" id="modal-setting-tabs">
          <li class="active dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-cog"></i> {{ tab_control_panel }} <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#modal-post-general-block" data-toggle="tab"><i class="fa fa-cogs"></i> {{ tab_general_setting }}</a></li>
              <li><a href="#modal-post-basic-block" data-toggle="tab"><i class="fa fa-cogs"></i> {{ tab_basic_setting }}</a></li>
              <li><a href="#modal-post-layout-block" data-toggle="tab"><i class="fa fa-eye"></i> {{ tab_layout_setting }}</a></li>
              <li><a href="#modal-post-image-block" data-toggle="tab"><i class="fa fa-picture-o"></i> {{ tab_image_setting }}</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-language"></i> {{ tab_language_setting }} <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#modal-post-language-block" data-toggle="tab"><i class="fa fa-flag-o"></i> {{ tab_basic_language_setting }}</a></li>
            </ul>
          </li>
        </ul>
        <form method="post" enctype="multipart/form-data" id="modal-form" class="form-horizontal">
          <input type="hidden" style="display:none;" name="post_id" value="{{ post_id }}" />
          <div class="tab-content">
            <!-- TAB General block -->
            <div class="tab-pane fade active in" role="tabpanel" id="modal-post-general-block">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-status">{{ entry_status }}</label>
                <div class="col-sm-9">
                  <select name="status" id="input-status" class="form-control">
                    {% if (status) %} 
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %} 
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %} 
                  </select>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_stores }}</label>
                <div class="col-sm-9">
                  {% set row_height = 55 %} {% set row = 0 %} {% for store in all_stores %} 
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %} 
                  {% endfor %} 
                  <div class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for store in all_stores %} 
                    <div class="checkbox">
                      <label>
                        <input
                          type="checkbox"
                          name="post_store[]"
                          value="{{ store['store_id'] }}" {{ stores is not empty and store['store_id'] in stores ? 'checked' : '' }} 
                        /> {{ store['name'] }} 
                      </label>
                    </div>
                    {% endfor %} 
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').trigger('click').attr('checked', true);">{{ text_select_all }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').attr('checked', false);">{{ text_unselect_all }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-store"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_stores_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_customer_groups }}</label>
                <div class="col-sm-9">
                  {% set row_height = 55 %} {% set row = 0 %} {% for customer_group in all_customer_groups %} 
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %} 
                  {% endfor %} 
                  <div class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for customer_group in all_customer_groups %} 
                    <div class="checkbox">
                      <label>
                        <input
                          type="checkbox"
                          name="post_customer_group[]"
                          value="{{ customer_group['customer_group_id'] }}" {{ customer_groups is not empty and customer_group['customer_group_id'] in customer_groups ? 'checked' : '' }} 
                        /> {{ customer_group['name'] }} 
                      </label>
                    </div>
                    {% endfor %} 
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').trigger('click').attr('checked', true);">{{ text_select_all }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').attr('checked', false);">{{ text_unselect_all }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-customer-group"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_customer_groups_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label" for="input-keyword">{{ entry_keyword }}</label>
                <div class="col-sm-9">
                  {% if (is_opencart_3000) %}
                    {% for store in all_stores %}
                      {% for language in languages %}
                        <div class="input-group">
                          <span class="input-group-addon">{{ store.name }}</span>
                          <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                          <input type="text" name="keyword[{{ store.store_id }}][{{ language.language_id }}]" value="{% if keyword[store.store_id][language.language_id] %}{{ keyword[store.store_id][language.language_id] }}{% endif %}" class="form-control" />
                        </div>
                        <div class="modal-error-block" id="modal-error-keyword-{{ store.store_id }}-{{ language['language_id'] }}"></div>
                      {% endfor %}
                    {% endfor %}
                  {% else %}
                    <input value="{{ keyword }}" type="text" name="keyword" class="form-control" />
                    <div class="modal-error-block" id="modal-error-keyword"></div>
                  {% endif %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ text_keyword_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-sort_order">{{ entry_sort_order }}</label>
                <div class="col-sm-9">
                  <input value="{{ sort_order }}" type="text" name="sort_order" class="form-control" />
                  <div class="modal-error-block" id="modal-error-sort-order"></div>
                </div>
              </div>
            </div>
            <!-- TAB Basic block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-post-basic-block">
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_date_available }}</label>
                <div class="col-sm-3">
                  <div class="input-group date">
                    <input type="text" name="date_available" value="{{ date_available }}" placeholder="{{ placeholder_date_available }}" class="form-control" />
                    <span class="input-group-btn">
                      <button class="btn btn-default" type="button"><i class="fa fa-calendar"></i></button>
                    </span>
                  </div>
                </div>
                <div class="col-sm-offset-6"></div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_design }}</label>
                <div class="col-sm-9">
                  <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left">{{ entry_store }}</td>
                          <td class="text-left">{{ entry_layout }}</td>
                        </tr>
                      </thead>
                      <tbody>
                        {% for store in all_stores %} 
                          <tr>
                            <td class="text-left">{{ store['name'] }}</td>
                            <td class="text-left">
                              <select name="post_layout[{{ store['store_id'] }}]" class="form-control input-sm">
                                <option value=""></option>
                                {% for layout in all_layouts %} 
                                {% if (post_layout[store['store_id']] is defined and post_layout[store['store_id']] == layout['layout_id']) %} 
                                <option value="{{ layout['layout_id'] }}" selected="selected">{{ layout['name'] }}</option>
                                {% else %} 
                                <option value="{{ layout['layout_id'] }}">{{ layout['name'] }}</option>
                                {% endif %} 
                                {% endfor %} 
                              </select>
                            </td>
                          </tr>
                        {% endfor %} 
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_author }}</label>
                <div class="col-sm-9">
                  <input type="text" name="author" value="{{ author }}" placeholder="{{ placeholder_author }}" class="form-control" />
                  <input type="hidden" name="author_id" value="{{ author_id }}" />
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_autocomplete_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_post_main_category }}</label>
                <div class="col-sm-9">
                  <input type="text" name="main_category" value="{{ main_category }}" placeholder="{{ placeholder_category }}" class="form-control" />
                  <input type="hidden" name="main_category_id" value="{{ main_category_id }}"/>
                  <div class="modal-error-block" id="modal-error-main-category-id"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_autocomplete_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_post_related_category }}</label>
                <div class="col-sm-9">
                  <input type="text" name="category" value="" placeholder="{{ placeholder_category }}" class="form-control" />
                  {% set row_height = 55 %} {% set row = 0 %} {% for post_category in post_categories %} 
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %} 
                  {% endfor %} 
                  <div id="post-category" class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for post_category in post_categories %} 
                    <div id="post-category{{ post_category['category_id'] }}"><i class="fa fa-minus-circle"></i> {{ post_category['name'] }} 
                      <input type="hidden" name="post_category[]" value="{{ post_category['category_id'] }}" />
                    </div>
                    {% endfor %} 
                  </div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_autocomplete_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_post_related }}</label>
                <div class="col-sm-9">
                  <input type="text" name="related_post" value="" placeholder="{{ placeholder_related_post }}" class="form-control" />
                  {% set row_height = 55 %} {% set row = 0 %} {% for post_related in post_relateds %} 
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %} 
                  {% endfor %} 
                  <div id="post-related" class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for post_related in post_relateds %} 
                    <div id="post-related{{ post_related['post_id'] }}"><i class="fa fa-minus-circle"></i> {{ post_related['name'] }} 
                      <input type="hidden" name="post_related[]" value="{{ post_related['post_id'] }}" />
                    </div>
                    {% endfor %} 
                  </div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_autocomplete_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_product_related }}</label>
                <div class="col-sm-9">
                  <input type="text" name="related_product" value="" placeholder="{{ placeholder_product }}" class="form-control" />
                  {% set row_height = 55 %} {% set row = 0 %} {% for product_related in product_relateds %} 
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %} 
                  {% endfor %} 
                  <div id="product-related" class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for product_related in product_relateds %} 
                    <div id="product-related{{ product_related['product_id'] }}"><i class="fa fa-minus-circle"></i> {{ product_related['name'] }} 
                      <input type="hidden" name="product_related[]" value="{{ product_related['product_id'] }}" />
                    </div>
                    {% endfor %} 
                  </div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_autocomplete_faq }}</div>
                </div>
              </div>
            </div>
            <!-- TAB Layout block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-post-layout-block">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_description">{{ entry_show_description }}</label>
                <div class="col-sm-9">
                  <select name="show_description" id="input-show_description" class="form-control">
                    {% if (show_description) %} 
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %} 
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %} 
                  </select>
                </div>
              </div>
            </div>
            <!-- TAB Image block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-post-image-block">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_main_image">{{ entry_show_post_main_image }}</label>
                <div class="col-sm-9">
                  <select name="show_main_image" id="input-show_main_image" class="form-control">
                    <option value="1" {% if (show_main_image == 1) %}selected="selected"{% endif %}>{{ entry_show_post_main_image_1 }}</option>
                    <option value="2" {% if (show_main_image == 2) %}selected="selected"{% endif %}>{{ entry_show_post_main_image_2 }} ({{ text_exclusive }})</option>
                    <option value="0" {% if (show_main_image is empty) %}selected="selected"{% endif %}>{{ text_disabled }}</option>
                  </select>
                </div>
              </div>
              <div class="form-group required show-main-image-1">
                <label class="col-sm-3 control-label">{{ text_dementions_of_main_image }}</label>
                <div class="col-sm-9">
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_width_indicator }}</span>
                    <input value="{{ main_image_width }}" type="text" name="main_image_width" class="form-control" placeholder="{{ text_image_width_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="special-margin"></div>
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_height_indicator }}</span>
                    <input value="{{ main_image_height }}" type="text" name="main_image_height" class="form-control" placeholder="{{ text_image_height_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="modal-error-block" id="modal-error-main-image-width"></div>
                  <div class="modal-error-block" id="modal-error-main-image-height"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_warning_dementions_of_main_image }}</div>
                </div>
              </div>
              <div class="form-group required show-main-image-1">
                <label class="col-sm-3 control-label">{{ text_dementions_of_main_image_popup }}</label>
                <div class="col-sm-9">
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_width_indicator }}</span>
                    <input value="{{ main_image_popup_width }}" type="text" name="main_image_popup_width" class="form-control" placeholder="{{ text_image_width_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="special-margin"></div>
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_height_indicator }}</span>
                    <input value="{{ main_image_popup_height }}" type="text" name="main_image_popup_height" class="form-control" placeholder="{{ text_image_height_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="modal-error-block" id="modal-error-main-image-popup-width"></div>
                  <div class="modal-error-block" id="modal-error-main-image-popup-height"></div>
                </div>
              </div>
              <div class="form-group show-main-image-1">
                <label class="col-sm-3 control-label">{{ entry_main_image }}</label>
                <div class="col-sm-9">
                  <a href="" id="thumb-image0" data-toggle="image_post" data-imgid="0" class="img-thumbnail"><img src="{{ thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                  <input type="hidden" name="image" value="{{ image }}" id="input-image0" />
                </div>
              </div>
              <div class="form-group required show-main-image-2 pro-block">
                <label class="col-sm-3 control-label" for="input-video">{{ entry_main_video }}</label>
                <div class="col-sm-9">
                  <input value="{{ video }}" type="text" name="video" class="form-control" />
                  <div class="modal-error-block" id="modal-error-video"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ entry_main_video_faq }}</div>
                </div>
              </div>
              <div class="form-group show-main-image-2 pro-block">
                <label class="col-sm-3 control-label" for="input-video_show_type">{{ entry_video_show_type }}</label>
                <div class="col-sm-9">
                  <select name="video_show_type" id="input-video_show_type" class="form-control">
                    {% if (video_show_type == 1) %} 
                    <option value="1" selected="selected">{{ entry_video_show_type_1 }}</option>
                    <option value="2">{{ entry_video_show_type_2 }}</option>
                    {% else %} 
                    <option value="1">{{ entry_video_show_type_1 }}</option>
                    <option value="2" selected="selected">{{ entry_video_show_type_2 }}</option>
                    {% endif %} 
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_additional_image">{{ entry_show_additional_image }}</label>
                <div class="col-sm-9">
                  <select name="show_additional_image" id="input-show_additional_image" class="form-control">
                    {% if (show_additional_image) %} 
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %} 
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %} 
                  </select>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ text_dementions_of_additional_image }}</label>
                <div class="col-sm-9">
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_width_indicator }}</span>
                    <input value="{{ additional_image_width }}" type="text" name="additional_image_width" class="form-control" placeholder="{{ text_image_width_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="special-margin"></div>
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_height_indicator }}</span>
                    <input value="{{ additional_image_height }}" type="text" name="additional_image_height" class="form-control" placeholder="{{ text_image_height_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="modal-error-block" id="modal-error-additional-image-width"></div>
                  <div class="modal-error-block" id="modal-error-additional-image-height"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_warning_dementions_of_additional_image }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_additional_image }}</label>
                <div class="col-sm-9">
                  <div class="table-responsive">
                    <table id="images" class="table table-striped table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left">{{ column_image }}</td>
                          <td class="text-right">{{ column_sort_order }}</td>
                          <td></td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr><td colspan="3" style="padding: 0"></td></tr>
                        {% set image_row = 1 %} 
                        {% for post_image in post_images %} 
                        <tr id="image-row{{ image_row }}">
                          <td class="text-left"><a href="" id="thumb-image{{ image_row }}" data-toggle="image_post" data-imgid="{{ image_row }}" class="img-thumbnail"><img src="{{ post_image['thumb'] }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a><input type="hidden" name="post_image[{{ image_row }}][image]" value="{{ post_image['image'] }}" id="input-image{{ image_row }}" /></td>
                          <td class="text-right"><input type="text" name="post_image[{{ image_row }}][sort_order]" value="{{ post_image['sort_order'] }}" placeholder="{{ entry_sort_order }}" class="form-control" /></td>
                          <td class="text-left"><button type="button" onclick="$('#image-row{{ image_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                        </tr>
                        {% set image_row = image_row + 1 %} 
                        {% endfor %} 
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="2"></td>
                          <td class="text-left"><button type="button" onclick="addImage();" data-toggle="tooltip" title="{{ button_image_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!-- TAB Language block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-post-language-block">
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_name }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <input type="text" name="post_description[{{ language['language_id'] }}][name]" value="{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['name'] : '' }}" class="form-control" />
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-name-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_name_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_meta_title }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <input type="text" name="post_description[{{ language['language_id'] }}][meta_title]" value="{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['meta_title'] : '' }}" class="form-control" />
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-meta-title-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_meta_title_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_tag }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <input type="text" name="post_description[{{ language['language_id'] }}][tag]" value="{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['tag'] : '' }}" class="form-control" />
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-tag-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_short_description }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="post_description[{{ language['language_id'] }}][short_description]" id="short_description{{ language['language_id'] }}" class="form-control">{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['short_description'] : '' }}</textarea>
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="texteditor_action({id: '#short_description{{ language['language_id'] }}'});">{{ text_open_texteditor }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="texteditor_action({id: '#short_description{{ language['language_id'] }}', start: false, destroy: true});" style="display: none;">{{ text_save_texteditor }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-short-description-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_short_description_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_description }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="post_description[{{ language['language_id'] }}][description]" id="description{{ language['language_id'] }}" class="form-control">{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['description'] : '' }}</textarea>
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="texteditor_action({id: '#description{{ language['language_id'] }}'});">{{ text_open_texteditor }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="texteditor_action({id: '#description{{ language['language_id'] }}', start: false, destroy: true});" style="display: none;">{{ text_save_texteditor }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-description-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_meta_description }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="post_description[{{ language['language_id'] }}][meta_description]" id="meta_description{{ language['language_id'] }}" class="form-control">{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['meta_description'] : '' }}</textarea>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-meta-description-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_meta_description_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_meta_keyword }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="post_description[{{ language['language_id'] }}][meta_keyword]" id="meta_keyword{{ language['language_id'] }}" class="form-control">{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['meta_keyword'] : '' }}</textarea>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-meta-keyword-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_meta_keyword_faq }}</div>
                </div>
              </div>
              <div class="form-group pro-block">
                <label class="col-sm-3 control-label">{{ entry_main_image_alt }}</label>
                <div class="col-sm-9">
                  {% for language in languages %} 
                  <div class="input-group">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="post_description[{{ language['language_id'] }}][main_image_alt]" id="main_image_alt{{ language['language_id'] }}" class="form-control">{{ post_description[language['language_id']] is defined ? post_description[language['language_id']]['main_image_alt'] : '' }}</textarea>
                  </div>
                  <div class="modal-error-block" id="modal-error-post-description-language-main-image-alt-{{ language['language_id'] }}"></div>
                  {% endfor %} 
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_main_image_alt_faq }}</div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-info" onclick="submit_post(this, {% if (post_id) %}'edit'{% else %}'add'{% endif %});">{{ button_submit }}</button>
    <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close" {% if (not post_id) %}style="display: none;"{% endif %}>{{ button_close }}</button>
  </div>
</div>
<!-- start: code for DateTimePicker -->
<script type="text/javascript">
$('.date').datetimepicker({
  format: 'YYYY-MM-DD',
  pickDate: true,
  pickTime: true
});
</script>
<!-- end: code for DateTimePicker -->
<!-- start: code for tab basic setting -->
<script>
$('input[name=\'author\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/ocdevwizard/{{ _name }}/autocomplete_author&{{ token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				json.unshift({
					author_id: 0,
					name: '{{ text_none }}'
				});

				response($.map(json, function(item) {
					return {
						label: item['name'],
            value: item['author_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
    $('input[name=\'author\']').val(item['label']);
    $('input[name=\'author_id\']').val(item['value']);
  }
});

$('input[name=\'category\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/ocdevwizard/{{ _name }}/autocomplete_category&{{ token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				json.unshift({
					category_id: 0,
					name: '{{ text_none }}'
				});
				
				response($.map(json, function(item) {
          return {
            label: item['name'],
            value: item['category_id']
          }
				}));
			}
		});
	},
	'select': function(item) {
    $('input[name=\'category\']').val('');
    $('#post-category' + item['value']).remove();
    $('#post-category').append('<div id="post-category' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="post_category[]" value="' + item['value'] + '" /></div>');
	}
});

$('#post-category').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});

$('input[name=\'main_category\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/ocdevwizard/{{ _name }}/autocomplete_category&{{ token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				json.unshift({
					category_id: 0,
					name: '{{ text_none }}'
				});
				
				response($.map(json, function(item) {
          return {
            label: item['name'],
            value: item['category_id']
          }
				}));
			}
		});
	},
	'select': function(item) {
    $('input[name=\'main_category\']').val(item['label']);
    $('input[name=\'main_category_id\']').val(item['value']);
  }
});

$('input[name=\'related_post\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/ocdevwizard/{{ _name }}/autocomplete_post&{{ token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				json.unshift({
					post_id: 0,
					name: '{{ text_none }}'
				});
				
				response($.map(json, function(item) {
					if (item['post_id'] && item['post_id'] != '{{ post_id }}') {
            return {
              label: item['name'],
              value: item['post_id']
            }
          }
				}));
			}
		});
	},
	'select': function(item) {
    $('input[name=\'related_post\']').val('');
    $('#post-related' + item['value']).remove();
    $('#post-related').append('<div id="post-related' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="post_related[]" value="' + item['value'] + '" /></div>');
	}
});

$('#post-related').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});

$('input[name=\'related_product\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/ocdevwizard/{{ _name }}/autocomplete_product&{{ token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				json.unshift({
					product_id: 0,
					name: '{{ text_none }}'
				});
				
				response($.map(json, function(item) {
          return {
            label: item['name'],
            value: item['product_id']
          }
				}));
			}
		});
	},
	'select': function(item) {
    $('input[name=\'related_product\']').val('');
    $('#product-related' + item['value']).remove();
    $('#product-related').append('<div id="product-related' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="product_related[]" value="' + item['value'] + '" /></div>');
	}
});

$('#product-related').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});
</script>
<!-- end: code for tab general setting -->
<!-- start: code for tab image setting -->
<script>
var image_row = {{ image_row }};

function addImage() {
	html  = '<tr id="image-row' + image_row + '">';
	html += '  <td class="text-left"><a href="" id="thumb-image' + image_row + '" data-toggle="image_post" data-imgid="' + image_row + '" class="img-thumbnail"><img src="{{ placeholder }}" alt="" title="" data-placeholder="{{ placeholder }}" /><input type="hidden" name="post_image[' + image_row + '][image]" value="" id="input-image' + image_row + '" /></td>';
	html += '  <td class="text-right"><input type="text" name="post_image[' + image_row + '][sort_order]" value="" placeholder="{{ entry_sort_order }}" class="form-control" /></td>';
	html += '  <td class="text-left"><button type="button" onclick="$(\'#image-row' + image_row  + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';
	
	$('#images tbody').append(html);
	
	image_row++;
}

$('select[name=show_main_image]').change(function() {
  var val = $(this).val();

  if (val == 1) {
    $('.show-main-image-1').show();
    $('.show-main-image-2').hide();
  } else if(val == 2) {
    $('.show-main-image-1').hide();
    $('.show-main-image-2').show();
  } else {
    $('.show-main-image-1').hide();
    $('.show-main-image-2').hide();
  }
});

$('select[name=show_main_image]').trigger('change');
</script>
<!-- end: code for tab image setting -->
<!-- start: code for module usability -->
<script>
$(document).on("click", "a.thumbnail", "event", function(e) {
  e.preventDefault();
  set_image(this, $('#modal-image').data('imgid'), 'post');
  return;
});

$(function() {
  if ($('#modal-post-constructor-content .pro-block').length) {
    $('#modal-post-constructor-content .pro-block').each(function(index) {
      $(this).find('.control-label').append('<div class="clear"></div><div class="label label-info" style="text-transform: uppercase;">{{ text_exclusive }}</div>');
      // $(this).find('input[type=\'radio\'], input[type=\'checkbox\'], select, button').attr('disabled', true);
      // $(this).find('input[type=\'text\'], textarea').on('focus', function(){ alert('{{ text_exclusive }}'); });
      // $(this).find('label').addClass('disabled');
      // $(this).addClass('pro-version-only');
    });
  }
});
</script>
<!-- end: code for module usability -->
</div>
