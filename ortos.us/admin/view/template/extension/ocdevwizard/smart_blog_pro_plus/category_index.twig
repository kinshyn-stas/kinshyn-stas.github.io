<!--
##==================================================================##
## @author    : OCdevWizard                                         ##
## @contact   : ocdevwizard@gmail.com                               ##
## @support   : http://help.ocdevwizard.com                         ##
## @license   : http://license.ocdevwizard.com/Licensing_Policy.pdf ##
## @copyright : (c) OCdevWizard. Smart Blog Pro Plus, 2019          ##
##==================================================================##
-->
<div class="modal-content" id="modal-category-constructor-content">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button>
    <h4 class="modal-title" id="myModalLabel">{{ text_modal_heading }}</h4>
  </div>
  <div class="modal-body">
    <div id="content" class="row" style="padding-bottom: 0;">
      <div class="panel-body" style="padding-top: 0;padding-bottom: 0;">
        <ul class="nav nav-tabs" id="modal-setting-tabs">
          <li class="active dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-cog"></i> {{ tab_control_panel }} <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#modal-category-general-block" data-toggle="tab"><i class="fa fa-cogs"></i> {{ tab_general_setting }}</a></li>
              <li><a href="#modal-category-basic-block" data-toggle="tab"><i class="fa fa-cogs"></i> {{ tab_basic_setting }}</a></li>
              <li><a href="#modal-category-layout-block" data-toggle="tab"><i class="fa fa-eye"></i> {{ tab_layout_setting }}</a></li>
              <li><a href="#modal-category-image-block" data-toggle="tab"><i class="fa fa-picture-o"></i> {{ tab_image_setting }}</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-language"></i> {{ tab_language_setting }} <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#modal-category-language-block" data-toggle="tab"><i class="fa fa-flag-o"></i> {{ tab_basic_language_setting }}</a></li>
            </ul>
          </li>
        </ul>
        <form method="post" enctype="multipart/form-data" id="modal-form" class="form-horizontal">
          <input type="hidden" style="display:none;" name="category_id" value="{{ category_id }}" />
          <div class="tab-content">
            <!-- TAB General block -->
            <div class="tab-pane fade active in" role="tabpanel" id="modal-category-general-block">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-status">{{ entry_status }}</label>
                <div class="col-sm-9">
                  <select name="status" id="input-status" class="form-control">
                    {% if (status) %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_stores }}</label>
                <div class="col-sm-9">
                  {% set row_height = 55 %} {% set row = 0 %} {% for store in all_stores %}
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %}
                  {% endfor %}
                  <div class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for store in all_stores %}
                    <div class="checkbox">
                      <label>
                        <input
                          type="checkbox"
                          name="category_store[]"
                          value="{{ store['store_id'] }}" {{ stores is not empty and store['store_id'] in stores ? 'checked' : '' }}
                        /> {{ store['name'] }}
                      </label>
                    </div>
                    {% endfor %}
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').trigger('click').attr('checked', true);">{{ text_select_all }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').attr('checked', false);">{{ text_unselect_all }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-category-store"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_stores_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_customer_groups }}</label>
                <div class="col-sm-9">
                  {% set row_height = 55 %} {% set row = 0 %} {% for customer_group in all_customer_groups %}
                  {% if (row < 5) %} {% set row_height = row_height*1.26 %} {% endif %} {% set row = row + 1 %}
                  {% endfor %}
                  <div class="well well-sm" style="height: {{ row_height }}px; overflow: auto;">
                    {% for customer_group in all_customer_groups %}
                    <div class="checkbox">
                      <label>
                        <input
                          type="checkbox"
                          name="category_customer_group[]"
                          value="{{ customer_group['customer_group_id'] }}" {{ customer_groups is not empty and customer_group['customer_group_id'] in customer_groups ? 'checked' : '' }}
                        /> {{ customer_group['name'] }}
                      </label>
                    </div>
                    {% endfor %}
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').trigger('click').attr('checked', true);">{{ text_select_all }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="$(this).parent().parent().find(':checkbox').attr('checked', false);">{{ text_unselect_all }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-category-customer-group"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_customer_groups_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label" for="input-keyword">{{ entry_keyword }}</label>
                <div class="col-sm-9">
                  {% if (is_opencart_3000) %}
                    {% for store in all_stores %}
                      {% for language in languages %}
                        <div class="input-group">
                          <span class="input-group-addon">{{ store.name }}</span>
                          <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                          <input type="text" name="keyword[{{ store.store_id }}][{{ language.language_id }}]" value="{% if keyword[store.store_id][language.language_id] %}{{ keyword[store.store_id][language.language_id] }}{% endif %}" class="form-control" />
                        </div>
                        <div class="modal-error-block" id="modal-error-keyword-{{ store.store_id }}-{{ language['language_id'] }}"></div>
                      {% endfor %}
                    {% endfor %}
                  {% else %}
                    <input value="{{ keyword }}" type="text" name="keyword" class="form-control" />
                    <div class="modal-error-block" id="modal-error-keyword"></div>
                  {% endif %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ text_keyword_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-sort_order">{{ entry_sort_order }}</label>
                <div class="col-sm-9">
                  <input value="{{ sort_order }}" type="text" name="sort_order" class="form-control" />
                  <div class="modal-error-block" id="modal-error-sort-order"></div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ text_sort_method }}</label>
                <div class="col-sm-9">
                  <select name="sort_method" class="form-control">
                    <option value="">{{ text_make_a_choice }}</option>
                    <option value="1" {{ sort_method == 1 ? 'selected="selected"' : '' }} >{{ text_sort_method_1 }}</option>
                    <option value="2" {{ sort_method == 2 ? 'selected="selected"' : '' }} >{{ text_sort_method_2 }}</option>
	                  <option value="3" {{ sort_method == 3 ? 'selected="selected"' : '' }} >{{ text_sort_method_3 }}</option>
	                  <option value="4" {{ sort_method == 4 ? 'selected="selected"' : '' }} >{{ text_sort_method_4 }}</option>
	                  <option value="5" {{ sort_method == 5 ? 'selected="selected"' : '' }} >{{ text_sort_method_5 }}</option>
	                  <option value="6" {{ sort_method == 6 ? 'selected="selected"' : '' }} >{{ text_sort_method_6 }}</option>
	                  <option value="7" {{ sort_method == 7 ? 'selected="selected"' : '' }} >{{ text_sort_method_7 }}</option>
	                  <option value="8" {{ sort_method == 8 ? 'selected="selected"' : '' }} >{{ text_sort_method_8 }}</option>
	                  <option value="9" {{ sort_method == 9 ? 'selected="selected"' : '' }} >{{ text_sort_method_9 }}</option>
	                  <option value="10" {{ sort_method == 10 ? 'selected="selected"' : '' }} >{{ text_sort_method_10 }}</option>
                  </select>
                </div>
              </div>
            </div>
            <!-- TAB Basic block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-category-basic-block">
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_design }}</label>
                <div class="col-sm-9">
                  <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left">{{ entry_store }}</td>
                          <td class="text-left">{{ entry_layout }}</td>
                        </tr>
                      </thead>
                      <tbody>
                        {% for store in all_stores %}
                          <tr>
                            <td class="text-left">{{ store['name'] }}</td>
                            <td class="text-left">
                              <select name="category_layout[{{ store['store_id'] }}]" class="form-control input-sm">
                                <option value=""></option>
                                {% for layout in all_layouts %}
                                {% if (category_layout[store['store_id']] is defined and category_layout[store['store_id']] == layout['layout_id']) %}
                                <option value="{{ layout['layout_id'] }}" selected="selected">{{ layout['name'] }}</option>
                                {% else %}
                                <option value="{{ layout['layout_id'] }}">{{ layout['name'] }}</option>
                                {% endif %}
                                {% endfor %}
                              </select>
                            </td>
                          </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_parent }}</label>
                <div class="col-sm-9">
                  <input type="text" name="path" value="{{ path }}" placeholder="{{ placeholder_category }}" class="form-control" />
                  <input type="hidden" name="parent_id" value="{{ parent_id }}" />
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_autocomplete_faq }}</div>
                </div>
              </div>
            </div>
            <!-- TAB Layout block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-category-layout-block">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_description">{{ entry_show_description }}</label>
                <div class="col-sm-9">
                  <select name="show_description" id="input-show_description" class="form-control">
                    {% if (show_description) %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-description_position">{{ entry_description_position }}</label>
                <div class="col-sm-9">
                  <select name="description_position" id="input-description_position" class="form-control">
                    {% if (description_position == 1) %}
                    <option value="1" selected="selected">{{ text_description_position_1 }}</option>
                    <option value="2">{{ text_description_position_2 }}</option>
                    {% else %}
                    <option value="1">{{ text_description_position_1 }}</option>
                    <option value="2" selected="selected">{{ text_description_position_2 }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_subcategories">{{ entry_show_subcategories }}</label>
                <div class="col-sm-9">
                  <select name="show_subcategories" id="input-show_subcategories" class="form-control">
                    {% if (show_subcategories) %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_subcategories_total">{{ entry_show_subcategories_total }}</label>
                <div class="col-sm-9">
                  <select name="show_subcategories_total" id="input-show_subcategories_total" class="form-control">
                    {% if (show_subcategories_total) %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
            </div>
            <!-- TAB Image block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-category-image-block">
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_main_image">{{ entry_show_main_image }}</label>
                <div class="col-sm-9">
                  <select name="show_main_image" id="input-show_main_image" class="form-control">
                    {% if (show_main_image) %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ text_dementions_of_main_image }}</label>
                <div class="col-sm-9">
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_width_indicator }}</span>
                    <input value="{{ main_image_width }}" type="text" name="main_image_width" class="form-control" placeholder="{{ text_image_width_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="special-margin"></div>
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_height_indicator }}</span>
                    <input value="{{ main_image_height }}" type="text" name="main_image_height" class="form-control" placeholder="{{ text_image_height_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="modal-error-block" id="modal-error-main-image-width"></div>
                  <div class="modal-error-block" id="modal-error-main-image-height"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_warning_dementions_of_main_image }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_main_image }}</label>
                <div class="col-sm-9">
                  <a href="" id="thumb-image0" data-toggle="image_category" data-imgid="0" class="img-thumbnail"><img src="{{ thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                  <input type="hidden" name="image" value="{{ image }}" id="input-image0" />
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ text_dementions_of_main_image_popup }}</label>
                <div class="col-sm-9">
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_width_indicator }}</span>
                    <input value="{{ additional_image_popup_width }}" type="text" name="additional_image_popup_width" class="form-control" placeholder="{{ text_image_width_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="special-margin"></div>
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_height_indicator }}</span>
                    <input value="{{ additional_image_popup_height }}" type="text" name="additional_image_popup_height" class="form-control" placeholder="{{ text_image_height_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="modal-error-block" id="modal-error-additional-image-popup-width"></div>
                  <div class="modal-error-block" id="modal-error-additional-image-popup-height"></div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label" for="input-show_additional_image">{{ entry_show_additional_image }}</label>
                <div class="col-sm-9">
                  <select name="show_additional_image" id="input-show_additional_image" class="form-control">
                    {% if (show_additional_image) %}
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>
                    {% else %}
                    <option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>
                    {% endif %}
                  </select>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ text_dementions_of_additional_image }}</label>
                <div class="col-sm-9">
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_width_indicator }}</span>
                    <input value="{{ additional_image_width }}" type="text" name="additional_image_width" class="form-control" placeholder="{{ text_image_width_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="special-margin"></div>
                  <div class="input-group">
                    <span class="input-group-addon">{{ text_height_indicator }}</span>
                    <input value="{{ additional_image_height }}" type="text" name="additional_image_height" class="form-control" placeholder="{{ text_image_height_ph }}" />
                    <span class="input-group-addon">{{ text_px }}</span>
                  </div>
                  <div class="modal-error-block" id="modal-error-additional-image-width"></div>
                  <div class="modal-error-block" id="modal-error-additional-image-height"></div>
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> {{ text_warning_dementions_of_additional_image }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_additional_image }}</label>
                <div class="col-sm-9">
                  <div class="table-responsive">
                    <table id="images" class="table table-striped table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left">{{ column_image }}</td>
                          <td class="text-right">{{ column_sort_order }}</td>
                          <td></td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr><td colspan="3" style="padding: 0"></td></tr>
                        {% set image_row = 1 %}
                        {% for category_image in category_images %}
                        <tr id="image-row{{ image_row }}">
                          <td class="text-left"><a href="" id="thumb-image{{ image_row }}" data-toggle="image_category" data-imgid="{{ image_row }}" class="img-thumbnail"><img src="{{ category_image['thumb'] }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a><input type="hidden" name="category_image[{{ image_row }}][image]" value="{{ category_image['image'] }}" id="input-image{{ image_row }}" /></td>
                          <td class="text-right"><input type="text" name="category_image[{{ image_row }}][sort_order]" value="{{ category_image['sort_order'] }}" placeholder="{{ entry_sort_order }}" class="form-control" /></td>
                          <td class="text-left"><button type="button" onclick="$('#image-row{{ image_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                        </tr>
                        {% set image_row = image_row + 1 %}
                        {% endfor %}
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="2"></td>
                          <td class="text-left"><button type="button" onclick="addImage();" data-toggle="tooltip" title="{{ button_image_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!-- TAB Language block -->
            <div class="tab-pane fade" role="tabpanel" id="modal-category-language-block">
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_name }}</label>
                <div class="col-sm-9">
                  {% for language in languages %}
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <input type="text" name="category_description[{{ language['language_id'] }}][name]" value="{{ category_description[language['language_id']] is defined ? category_description[language['language_id']]['name'] : '' }}" class="form-control" />
                  </div>
                  <div class="modal-error-block" id="modal-error-category-description-language-name-{{ language['language_id'] }}"></div>
                  {% endfor %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_name_faq }}</div>
                </div>
              </div>
              <div class="form-group required">
                <label class="col-sm-3 control-label">{{ entry_meta_title }}</label>
                <div class="col-sm-9">
                  {% for language in languages %}
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <input type="text" name="category_description[{{ language['language_id'] }}][meta_title]" value="{{ category_description[language['language_id']] is defined ? category_description[language['language_id']]['meta_title'] : '' }}" class="form-control" />
                  </div>
                  <div class="modal-error-block" id="modal-error-category-description-language-meta-title-{{ language['language_id'] }}"></div>
                  {% endfor %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_meta_title_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_description }}</label>
                <div class="col-sm-9">
                  {% for language in languages %}
                  <div class="input-group" style="margin-bottom: 5px;">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="category_description[{{ language['language_id'] }}][description]" id="description{{ language['language_id'] }}" class="form-control">{{ category_description[language['language_id']] is defined ? category_description[language['language_id']]['description'] : '' }}</textarea>
                  </div>
                  <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs" onclick="texteditor_action({id: '#description{{ language['language_id'] }}'});">{{ text_open_texteditor }}</button>
                    <button type="button" class="btn btn-default btn-xs" onclick="texteditor_action({id: '#description{{ language['language_id'] }}', start: false, destroy: true});" style="display: none;">{{ text_save_texteditor }}</button>
                  </div>
                  <div class="modal-error-block" id="modal-error-category-description-language-description-{{ language['language_id'] }}"></div>
                  {% endfor %}
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_meta_description }}</label>
                <div class="col-sm-9">
                  {% for language in languages %}
                  <div class="input-group">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="category_description[{{ language['language_id'] }}][meta_description]" id="meta_description{{ language['language_id'] }}" class="form-control">{{ category_description[language['language_id']] is defined ? category_description[language['language_id']]['meta_description'] : '' }}</textarea>
                  </div>
                  <div class="modal-error-block" id="modal-error-category-description-language-meta-description-{{ language['language_id'] }}"></div>
                  {% endfor %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_meta_description_faq }}</div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">{{ entry_meta_keyword }}</label>
                <div class="col-sm-9">
                  {% for language in languages %}
                  <div class="input-group">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="category_description[{{ language['language_id'] }}][meta_keyword]" id="meta_keyword{{ language['language_id'] }}" class="form-control">{{ category_description[language['language_id']] is defined ? category_description[language['language_id']]['meta_keyword'] : '' }}</textarea>
                  </div>
                  <div class="modal-error-block" id="modal-error-category-description-language-meta-keyword-{{ language['language_id'] }}"></div>
                  {% endfor %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_meta_keyword_faq }}</div>
                </div>
              </div>
              <div class="form-group pro-block">
                <label class="col-sm-3 control-label">{{ entry_main_image_alt }}</label>
                <div class="col-sm-9">
                  {% for language in languages %}
                  <div class="input-group">
                    <span class="input-group-addon"><img src="{{ language['image'] }}" title="{{ language['name'] }}" /></span>
                    <textarea name="category_description[{{ language['language_id'] }}][main_image_alt]" id="main_image_alt{{ language['language_id'] }}" class="form-control">{{ category_description[language['language_id']] is defined ? category_description[language['language_id']]['main_image_alt'] : '' }}</textarea>
                  </div>
                  <div class="modal-error-block" id="modal-error-category-description-language-main-image-alt-{{ language['language_id'] }}"></div>
                  {% endfor %}
                  <div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ entry_main_image_alt_faq }}</div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-info" onclick="submit_category(this, {% if (category_id) %}'edit'{% else %}'add'{% endif %});">{{ button_submit }}</button>
    <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close" {% if (not category_id) %}style="display: none;"{% endif %}>{{ button_close }}</button>
  </div>
</div>
<!-- start: code for tab general setting -->
<script>
$('input[name=\'path\']').autocomplete({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/ocdevwizard/{{ _name }}/autocomplete_category&{{ token }}&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
				  if (item['category_id'] && item['category_id'] != '{{ category_id }}') {
            return {
              label: item['name'],
              value: item['category_id']
            }
          } else {
            return {
              label: '{{ text_none }}',
              value: 0
            }
          }
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'path\']').val(item['label']);
		$('input[name=\'parent_id\']').val(item['value']);
	}
});
</script>
<!-- end: code for tab general setting -->
<!-- start: code for tab image setting -->
<script>
var image_row = {{ image_row }};

function addImage() {
	html  = '<tr id="image-row' + image_row + '">';
	html += '  <td class="text-left"><a href="" id="thumb-image' + image_row + '" data-toggle="image_category" data-imgid="' + image_row + '" class="img-thumbnail"><img src="{{ placeholder }}" alt="" title="" data-placeholder="{{ placeholder }}" /><input type="hidden" name="category_image[' + image_row + '][image]" value="" id="input-image' + image_row + '" /></td>';
	html += '  <td class="text-right"><input type="text" name="category_image[' + image_row + '][sort_order]" value="" placeholder="{{ entry_sort_order }}" class="form-control" /></td>';
	html += '  <td class="text-left"><button type="button" onclick="$(\'#image-row' + image_row  + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#images tbody').append(html);

	image_row++;
}
</script>
<!-- end: code for tab image setting -->
<!-- start: code for module usability -->
<script>
$(document).on("click", "a.thumbnail", "event", function(e) {
  e.preventDefault();
  set_image(this, $('#modal-image').data('imgid'), 'category');
  return;
});

$(function() {
  if ($('#modal-category-constructor-content .pro-block').length) {
    $('#modal-category-constructor-content .pro-block').each(function(index) {
      $(this).find('.control-label').append('<div class="clear"></div><div class="label label-info" style="text-transform: uppercase;">{{ text_exclusive }}</div>');
      // $(this).find('input[type=\'radio\'], input[type=\'checkbox\'], select, button').attr('disabled', true);
      // $(this).find('input[type=\'text\'], textarea').on('focus', function(){ alert('{{ text_exclusive }}'); });
      // $(this).find('label').addClass('disabled');
      // $(this).addClass('pro-version-only');
    });
  }
});
</script>
<!-- end: code for module usability -->
</div>
